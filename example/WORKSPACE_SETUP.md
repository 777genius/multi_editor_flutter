# Pub Workspaces Setup

## âœ… ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¾

ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ **Pub Workspaces** (Dart 3.6+) Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑĞ¼Ğ¸ Ğ² Ğ¼Ğ¾Ğ½Ğ¾Ñ€ĞµĞ¿Ğ¾.

### ĞšĞ°Ğº ÑÑ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

1. **Ğ’Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸**: workspace Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ²ĞµÑ€ÑĞ¸Ğ¸ Ğ¿Ğ°ĞºĞµÑ‚Ğ¾Ğ²
2. **ĞŸÑ€Ğ¸ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸**: workspace Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° hosted Ğ²ĞµÑ€ÑĞ¸Ğ¸ Ñ pub.dev
3. **ĞĞ¸ĞºĞ°ĞºĞ¸Ñ… Ñ€ÑƒÑ‡Ğ½Ñ‹Ñ… Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹** Ğ² pubspec.yaml Ğ½Ğµ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ!

### ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

**Root `pubspec.yaml`:**
```yaml
workspace:
  - modules/multi_editor_core
  - modules/multi_editor_plugins
  - modules/multi_editor_ui
  - modules/multi_editor_mock
  - modules/plugins/*
  - example
```

**ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ¿Ğ°ĞºĞµÑ‚ Ğ² workspace:**
```yaml
environment:
  sdk: ^3.8.0

resolution: workspace  # â† Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ workspace resolution

dependencies:
  multi_editor_core: ^0.1.0  # â† Ğ’ĞµÑ€ÑĞ¸Ñ, ĞĞ• path!
```

## ğŸš€ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

### Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
```bash
dart pub get                    # Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ workspace
flutter analyze                 # ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ´Ğ°
dart run melos bootstrap        # Melos bootstrap (11 packages)
```

### ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ½Ğ° pub.dev
```bash
# 1. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ²ĞµÑ€ÑĞ¸Ğ¸ Ğ¿Ğ¾ Conventional Commits
dart run melos version

# 2. ĞĞ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ñ‚ÑŒ (ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° dry-run)
dart run melos publish

# 3. Ğ ĞµĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ (ĞºĞ¾Ğ³Ğ´Ğ° Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹)
# ĞÑ‚Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ melos.yaml: dry-run: false
dart run melos publish
```

## ğŸ“¦ ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°

âœ… **ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ**: local â†’ hosted Ğ¿Ñ€Ğ¸ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸  
âœ… **ĞĞµÑ‚ Ñ€ÑƒÑ‡Ğ½Ñ‹Ñ… Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹**: pubspec.yaml Ğ¾ÑÑ‚Ğ°ĞµÑ‚ÑÑ Ğ½ĞµĞ¸Ğ·Ğ¼ĞµĞ½Ğ½Ñ‹Ğ¼  
âœ… **Instant changes**: Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² Ğ¿Ğ°ĞºĞµÑ‚Ğ°Ñ… ÑÑ€Ğ°Ğ·Ñƒ Ğ²Ğ¸Ğ´Ğ½Ñ‹ Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ñ‹Ñ…  
âœ… **Ğ¡Ğ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ñ Melos**: Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ²Ğ¼ĞµÑÑ‚Ğµ Ğ´Ğ»Ñ Ğ²ĞµÑ€ÑĞ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ  

## âš ï¸ Ğ’Ğ°Ğ¶Ğ½Ğ¾

- Ğ’ÑĞµ Ğ¿Ğ°ĞºĞµÑ‚Ñ‹ Ğ² workspace Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ¸Ğ¼ĞµÑ‚ÑŒ `resolution: workspace`
- Ğ’ĞµÑ€ÑĞ¸Ğ¸ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ñ‹ (`^0.1.0`), Ğ° Ğ½Ğµ `path:`
- Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Dart SDK >=3.8.0
- flutter_monaco ĞĞ• Ğ² workspace (ÑÑ‚Ğ¾ third-party Ğ¿Ğ°ĞºĞµÑ‚)

## ğŸ”— Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

https://dart.dev/tools/pub/workspaces
